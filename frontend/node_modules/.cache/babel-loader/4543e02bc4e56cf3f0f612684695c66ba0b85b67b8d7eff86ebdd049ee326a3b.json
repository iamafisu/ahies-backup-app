{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import Swal from'sweetalert2';import{BrowserRouter as Router,Route,Routes,Link}from'react-router-dom';import Help from'./help';// Import Help component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UploadPage(){const[files,setFiles]=useState([]);const[userId,setUserId]=useState('');const[selectedTeam,setSelectedTeam]=useState('');const handleFileChange=e=>{setFiles(e.target.files);};const handleUpload=function(){let replace=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!files.length||!userId||!selectedTeam){Swal.fire({icon:'error',title:'Missing Information',text:'Please select files, enter a 4-digit ID, and choose your team.'});return;}const formData=new FormData();for(let i=0;i<files.length;i++){formData.append('files',files[i]);}formData.append('id',userId);formData.append('team',selectedTeam);formData.append('replace',replace);Swal.fire({title:'Uploading...',text:'Please wait while your files are being uploaded.',didOpen:()=>{Swal.showLoading();},allowOutsideClick:false});axios.post('https://iamafisu.pythonanywhere.com/',formData).then(response=>{if(response.data.exists){Swal.fire({title:'File Already Exists',text:'A file with this ID already exists. Do you want to replace it?',icon:'warning',showCancelButton:true,confirmButtonText:'Replace',cancelButtonText:'Cancel'}).then(result=>{if(result.isConfirmed){handleUpload(true);}});}else{Swal.fire({icon:'success',title:'Upload Successful',text:'Your files have been uploaded successfully!'});// Clear the form after successful upload\nsetFiles([]);setUserId('');setSelectedTeam('');document.querySelector('input[type=\"file\"]').value='';}}).catch(error=>{Swal.fire({icon:'error',title:'Upload Failed',text:'There was an error uploading your files. Please try again later.'});});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white-500 text-black p-4 shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/newlogo.png\",alt:\"gss-logo\",className:\"w-10 h-10 mr-2\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold\",children:\"AHIES Backup System\"})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"hover:text-gray-300\",children:\"Upload\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/help\",className:\"hover:text-gray-300\",children:\"Help?\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-white p-6 rounded shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 text-center\",children:\"File Upload\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTeam,onChange:e=>setSelectedTeam(e.target.value),className:\"border p-2 mb-4 w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your team\"}),Array.from({length:40},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:`Team ${i+1}`,children:`Team ${i+1}`},i))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your 4-digit Login ID\",value:userId,onChange:e=>setUserId(e.target.value),className:\"border p-2 mb-4 w-full\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:handleFileChange,className:\"border p-2 mb-4 w-full\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpload(),className:\"bg-blue-500 text-white w-full p-2\",children:\"Upload\"})]})})]});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(UploadPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/help\",element:/*#__PURE__*/_jsx(Help,{})})]})});}export default App;","map":{"version":3,"names":["React","useState","axios","Swal","BrowserRouter","Router","Route","Routes","Link","Help","jsx","_jsx","jsxs","_jsxs","UploadPage","files","setFiles","userId","setUserId","selectedTeam","setSelectedTeam","handleFileChange","e","target","handleUpload","replace","arguments","length","undefined","fire","icon","title","text","formData","FormData","i","append","didOpen","showLoading","allowOutsideClick","post","then","response","data","exists","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","document","querySelector","value","catch","error","children","className","src","alt","to","onChange","Array","from","_","type","placeholder","multiple","onClick","App","path","element"],"sources":["/Users/user/Documents/ahies-backup-system/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport Help from './help';  // Import Help component\n\nfunction UploadPage() {\n  const [files, setFiles] = useState([]);\n  const [userId, setUserId] = useState('');\n  const [selectedTeam, setSelectedTeam] = useState('');\n\n  const handleFileChange = (e) => {\n    setFiles(e.target.files);\n  };\n\n  const handleUpload = (replace = false) => {\n    if (!files.length || !userId || !selectedTeam) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Missing Information',\n        text: 'Please select files, enter a 4-digit ID, and choose your team.',\n      });\n      return;\n    }\n\n    const formData = new FormData();\n    for (let i = 0; i < files.length; i++) {\n      formData.append('files', files[i]);\n    }\n    formData.append('id', userId);\n    formData.append('team', selectedTeam);\n    formData.append('replace', replace);\n\n    Swal.fire({\n      title: 'Uploading...',\n      text: 'Please wait while your files are being uploaded.',\n      didOpen: () => {\n        Swal.showLoading();\n      },\n      allowOutsideClick: false,\n    });\n\n    axios.post('https://iamafisu.pythonanywhere.com/', formData)\n      .then(response => {\n        if (response.data.exists) {\n          Swal.fire({\n            title: 'File Already Exists',\n            text: 'A file with this ID already exists. Do you want to replace it?',\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Replace',\n            cancelButtonText: 'Cancel',\n          }).then((result) => {\n            if (result.isConfirmed) {\n              handleUpload(true);\n            }\n          });\n        } else {\n          Swal.fire({\n            icon: 'success',\n            title: 'Upload Successful',\n            text: 'Your files have been uploaded successfully!',\n          });\n\n          // Clear the form after successful upload\n          setFiles([]);\n          setUserId('');\n          setSelectedTeam('');\n          document.querySelector('input[type=\"file\"]').value = '';\n        }\n      })\n      .catch(error => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Upload Failed',\n          text: 'There was an error uploading your files. Please try again later.',\n        });\n      });\n  };\n\n  return (\n    <div>\n      {/* Header Section */}\n      <header className=\"bg-white-500 text-black p-4 shadow-md\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n          <div className=\"flex items-center\">\n            <img src=\"/newlogo.png\" alt=\"gss-logo\" className=\"w-10 h-10 mr-2\" />\n            <h1 className=\"text-xl font-bold\">AHIES Backup System</h1>\n          </div>\n          <nav>\n            <ul className=\"flex space-x-4\">\n              <li><Link to=\"/\" className=\"hover:text-gray-300\">Upload</Link></li>\n              <li><Link to=\"/help\" className=\"hover:text-gray-300\">Help?</Link></li>\n            </ul>\n          </nav>\n        </div>\n      </header>\n\n      {/* Main Content Section */}\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n        <div className=\"w-full max-w-md bg-white p-6 rounded shadow-lg\">\n          <h1 className=\"text-2xl font-bold mb-4 text-center\">File Upload</h1>\n\n          {/* Dropdown for selecting the team */}\n          <select\n            value={selectedTeam}\n            onChange={(e) => setSelectedTeam(e.target.value)}\n            className=\"border p-2 mb-4 w-full\"\n          >\n            <option value=\"\">Select your team</option>\n            {Array.from({ length: 40 }, (_, i) => (\n              <option key={i} value={`Team ${i + 1}`}>{`Team ${i + 1}`}</option>\n            ))}\n          </select>\n\n          <input \n            type=\"text\" \n            placeholder=\"Enter your 4-digit Login ID\"\n            value={userId}\n            onChange={(e) => setUserId(e.target.value)}\n            className=\"border p-2 mb-4 w-full\"\n          />\n          <input \n            type=\"file\" \n            multiple \n            onChange={handleFileChange}\n            className=\"border p-2 mb-4 w-full\"\n          />\n          <button \n            onClick={() => handleUpload()} \n            className=\"bg-blue-500 text-white w-full p-2\"\n          >\n            Upload\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<UploadPage />} />\n        <Route path=\"/help\" element={<Help />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}